{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// export default function ContactDemo(props) {\n//   const [data, setData] = useState({\n//     email: \"\",\n//     phone: \"\",\n//     message: \"\",\n//     sent: false,\n//   });\n//   const [thankYouMessage, setThankYouMessage] = useState(\"\");\n//   const goBack = () => {\n//     props.setIsOnHomePage(true);\n//   };\n//   const onChange = (e) => {\n//     const value = e.target.value;\n//     const name = e.target.getAttribute(\"name\");\n//     setData({\n//       ...data,\n//       [name]: value,\n//     });\n//   };\n//   const resetForm = () => {\n//     setData({\n//       email: \"\",\n//       phone: \"\",\n//       message: \"\",\n//       sent: false,\n//     });\n//   };\n//   // here I think is the problem in this function?\n//   const onSubmit = (e) => {\n//     axios\n//       .post(\"/api/sendmail\", data)\n//       .then((res) => {\n//         if (res.data.result !== \"success\") {\n//           setData({\n//             ...data,\n//             sent: false,\n//           });\n//           resetForm();\n//         } else {\n//           setData({\n//             ...data,\n//             sent: true,\n//           });\n//           resetForm();\n//         }\n//       })\n//       .catch((err) => {\n//         setData({\n//           ...data,\n//         });\n//       });\n//     setThankYouMessage(\"thank you\");\n//   };\n//   useEffect(() => {\n//     const source = axios.CancelToken.source();\n//     return () => {\n//       source.cancel();\n//     };\n//   }, []);\n//   return (\n//     <div className=\"contact-me-form\">\n//       <button className=\"go-back\" onClick={goBack}>\n//         go back\n//       </button>\n//       <h1 className=\"contact-me-title\">Contact me</h1>\n//       <form>\n//         <p className=\"input-title\">email</p>\n//         <input\n//           className=\"input-field\"\n//           defaultValue={data.email}\n//           name=\"email\"\n//           onChange={onChange}\n//         ></input>\n//         <p className=\"input-title\">phone number</p>\n//         <input\n//           className=\"input-field\"\n//           defaultValue={data.phone}\n//           name=\"phone\"\n//           onChange={onChange}\n//         ></input>\n//         <p className=\"input-title\">message</p>\n//         <textarea\n//           className=\"text-field\"\n//           defaultValue={data.message}\n//           name=\"message\"\n//           onChange={onChange}\n//           rows=\"3\"\n//         ></textarea>\n//       </form>\n//       <button\n//         onClick={() => {\n//           onSubmit();\n//         }}\n//         className=\"submit-contact-form-button\">\n//         submit\n//       </button>\n//       <p className=\"thank-you-message\">{thankYouMessage}</p>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/rahma/Dropbox/Programming/React/hello_react/src/components/ContactDemo.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// export default function ContactDemo(props) {\r\n//   const [data, setData] = useState({\r\n//     email: \"\",\r\n//     phone: \"\",\r\n//     message: \"\",\r\n//     sent: false,\r\n//   });\r\n//   const [thankYouMessage, setThankYouMessage] = useState(\"\");\r\n\r\n//   const goBack = () => {\r\n//     props.setIsOnHomePage(true);\r\n//   };\r\n\r\n//   const onChange = (e) => {\r\n//     const value = e.target.value;\r\n//     const name = e.target.getAttribute(\"name\");\r\n//     setData({\r\n//       ...data,\r\n//       [name]: value,\r\n//     });\r\n//   };\r\n\r\n//   const resetForm = () => {\r\n//     setData({\r\n//       email: \"\",\r\n//       phone: \"\",\r\n//       message: \"\",\r\n//       sent: false,\r\n//     });\r\n//   };\r\n\r\n//   // here I think is the problem in this function?\r\n//   const onSubmit = (e) => {\r\n//     axios\r\n//       .post(\"/api/sendmail\", data)\r\n//       .then((res) => {\r\n//         if (res.data.result !== \"success\") {\r\n//           setData({\r\n//             ...data,\r\n//             sent: false,\r\n//           });\r\n//           resetForm();\r\n//         } else {\r\n//           setData({\r\n//             ...data,\r\n//             sent: true,\r\n//           });\r\n//           resetForm();\r\n//         }\r\n//       })\r\n//       .catch((err) => {\r\n//         setData({\r\n//           ...data,\r\n//         });\r\n//       });\r\n//     setThankYouMessage(\"thank you\");\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     const source = axios.CancelToken.source();\r\n//     return () => {\r\n//       source.cancel();\r\n//     };\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div className=\"contact-me-form\">\r\n//       <button className=\"go-back\" onClick={goBack}>\r\n//         go back\r\n//       </button>\r\n//       <h1 className=\"contact-me-title\">Contact me</h1>\r\n//       <form>\r\n//         <p className=\"input-title\">email</p>\r\n//         <input\r\n//           className=\"input-field\"\r\n//           defaultValue={data.email}\r\n//           name=\"email\"\r\n//           onChange={onChange}\r\n//         ></input>\r\n//         <p className=\"input-title\">phone number</p>\r\n//         <input\r\n//           className=\"input-field\"\r\n//           defaultValue={data.phone}\r\n//           name=\"phone\"\r\n//           onChange={onChange}\r\n//         ></input>\r\n//         <p className=\"input-title\">message</p>\r\n//         <textarea\r\n//           className=\"text-field\"\r\n//           defaultValue={data.message}\r\n//           name=\"message\"\r\n//           onChange={onChange}\r\n//           rows=\"3\"\r\n//         ></textarea>\r\n//       </form>\r\n//       <button\r\n//         onClick={() => {\r\n//           onSubmit();\r\n//         }}\r\n//         className=\"submit-contact-form-button\">\r\n//         submit\r\n//       </button>\r\n//       <p className=\"thank-you-message\">{thankYouMessage}</p>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}