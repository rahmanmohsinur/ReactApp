{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rahma\\\\Dropbox\\\\Programming\\\\React\\\\hello_react\\\\src\\\\components\\\\ContactDemo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; //import axios from \"axios\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ContactDemo(props) {\n  _s();\n\n  const [data, setData] = useState({\n    email: \"\",\n    phone: \"\",\n    message: \"\",\n    sent: false\n  });\n  const [thankYouMessage, setThankYouMessage] = useState(\"\");\n\n  const goBack = () => {\n    props.setIsOnHomePage(true);\n  };\n\n  const onChange = e => {\n    const value = e.target.value;\n    const name = e.target.getAttribute(\"name\");\n    setData({ ...data,\n      [name]: value\n    });\n  };\n\n  const resetForm = () => {\n    setData({\n      email: \"\",\n      phone: \"\",\n      message: \"\",\n      sent: false\n    });\n  }; // here I think is the problem in this function?\n\n\n  const onSubmit = e => {\n    axios.post(\"/api/sendmail\", data).then(res => {\n      if (res.data.result !== \"success\") {\n        setData({ ...data,\n          sent: false\n        });\n        resetForm();\n      } else {\n        setData({ ...data,\n          sent: true\n        });\n        resetForm();\n      }\n    }).catch(err => {\n      setData({ ...data\n      });\n    });\n    setThankYouMessage(\"thank you\");\n  };\n\n  useEffect(() => {\n    const source = axios.CancelToken.source();\n    return () => {\n      source.cancel();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contact-me-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"go-back\",\n      onClick: goBack,\n      children: \"go back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"contact-me-title\",\n      children: \"Contact me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"input-title\",\n        children: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input-field\",\n        defaultValue: data.email,\n        name: \"email\",\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"input-title\",\n        children: \"phone number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input-field\",\n        defaultValue: data.phone,\n        name: \"phone\",\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"input-title\",\n        children: \"message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"text-field\",\n        defaultValue: data.message,\n        name: \"message\",\n        onChange: onChange,\n        rows: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        onSubmit();\n      },\n      className: \"submit-contact-form-button\",\n      children: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"thank-you-message\",\n      children: thankYouMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ContactDemo, \"ksSPKu5XGGctY0GOQdHk/xIAvpc=\");\n\n_c = ContactDemo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactDemo\");","map":{"version":3,"names":["React","useEffect","useState","ContactDemo","props","data","setData","email","phone","message","sent","thankYouMessage","setThankYouMessage","goBack","setIsOnHomePage","onChange","e","value","target","name","getAttribute","resetForm","onSubmit","axios","post","then","res","result","catch","err","source","CancelToken","cancel"],"sources":["C:/Users/rahma/Dropbox/Programming/React/hello_react/src/components/ContactDemo.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n//import axios from \"axios\";\r\n\r\nexport default function ContactDemo(props) {\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    phone: \"\",\r\n    message: \"\",\r\n    sent: false,\r\n  });\r\n  const [thankYouMessage, setThankYouMessage] = useState(\"\");\r\n\r\n  const goBack = () => {\r\n    props.setIsOnHomePage(true);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value;\r\n    const name = e.target.getAttribute(\"name\");\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setData({\r\n      email: \"\",\r\n      phone: \"\",\r\n      message: \"\",\r\n      sent: false,\r\n    });\r\n  };\r\n\r\n  // here I think is the problem in this function?\r\n  const onSubmit = (e) => {\r\n    axios\r\n      .post(\"/api/sendmail\", data)\r\n      .then((res) => {\r\n        if (res.data.result !== \"success\") {\r\n          setData({\r\n            ...data,\r\n            sent: false,\r\n          });\r\n          resetForm();\r\n        } else {\r\n          setData({\r\n            ...data,\r\n            sent: true,\r\n          });\r\n          resetForm();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setData({\r\n          ...data,\r\n        });\r\n      });\r\n    setThankYouMessage(\"thank you\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    return () => {\r\n      source.cancel();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"contact-me-form\">\r\n      <button className=\"go-back\" onClick={goBack}>\r\n        go back\r\n      </button>\r\n      <h1 className=\"contact-me-title\">Contact me</h1>\r\n      <form>\r\n        <p className=\"input-title\">email</p>\r\n        <input\r\n          className=\"input-field\"\r\n          defaultValue={data.email}\r\n          name=\"email\"\r\n          onChange={onChange}\r\n        ></input>\r\n        <p className=\"input-title\">phone number</p>\r\n        <input\r\n          className=\"input-field\"\r\n          defaultValue={data.phone}\r\n          name=\"phone\"\r\n          onChange={onChange}\r\n        ></input>\r\n        <p className=\"input-title\">message</p>\r\n        <textarea\r\n          className=\"text-field\"\r\n          defaultValue={data.message}\r\n          name=\"message\"\r\n          onChange={onChange}\r\n          rows=\"3\"\r\n        ></textarea>\r\n      </form>\r\n      <button\r\n        onClick={() => {\r\n          onSubmit();\r\n        }}\r\n        className=\"submit-contact-form-button\">\r\n        submit\r\n      </button>\r\n      <p className=\"thank-you-message\">{thankYouMessage}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}